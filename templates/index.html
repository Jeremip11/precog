{% extends "page-layout.html" %}
{% block content %}

    <h1>Precog</h1>
    <p>
        Preview your static websites built with CircleCI before making them live. Use it to
        check your plain static or <a href="http://jekyllrb.com">Jekyll</a>-generated
        websites before you make them live to <a href="http://pages.github.com">Github Pages</a>
        or to your own server. Requires configured and working
        <a href="https://circleci.com/docs/build-artifacts">CircleCI artifacts</a>.
    </p>
    <p>
        Written by <a href="http://www.codeforamerica.org/people/michal-migurski/">Michal Migurski</a>
        with <a href="http://www.codeforamerica.org/people/mick-thompson/">Mick Thompson</a>,
        © 2013-2015 <a href="http://codeforamerica.org">Code for America</a>
        and © 2016 <a href="http://mapzen.com">Mapzen</a>.
    </p>
    <p>
        You can view the source code for Precog on GitHub at <a href="https://github.com/mapzen/precog">https://github.com/mapzen/precog</a>.
    </p>
    <h2><q>No Doubt The Precogs Have Already Seen This…</q></h2>
    <ol>
    <li>
        <p>
            Preview pages in Precog by adding your Github account name and repository
            name to a Precog URL:
        </p>
        <p>
            <samp>{{request.host}}/<em>&lt;account&gt;/&lt;repo&gt;/</em></samp>
        </p>
        <p>
            Example showing the <a href="https://github.com/mapzen/blog">Mapzen website</a>:
            <br><samp><a href="//{{request.host}}/mapzen/blog">{{request.host}}/<em>mapzen/blog/</em></a></samp>
        </p>
    </li>
    <li>
        <p>
            To view a commit or branch other than <i>master</i>, add the ref to the
            end:
        </p>
        <p>
            <samp>{{request.host}}/&lt;account&gt;/&lt;repo&gt;/<em>&lt;ref&gt;/</em></samp>
        </p>
        <p>
            Example showing a single <a href="https://github.com/mapzen/blog/tree/159d528d1">Mapzen website commit</a>:
            <br><samp><a href="//{{request.host}}/mapzen/blog/159d528d1">{{request.host}}/mapzen/blog/<em>159d528d1/</em></a></samp>
        </p>
    </li>
    <li>
        <p>
            To view a specific file or directory, add it after the ref:
        </p>
        <p>
            <samp>{{request.host}}/&lt;account&gt;/&lt;repo&gt;/&lt;ref&gt;/<em>wow/such-path.html</em></samp>
        </p>
        <p>
            Example of the <a href="https://github.com/mapzen/blog/blob/master/_projects/vector-tiles.md">Mapzen Vector Tiles project page</a>:
            <br><samp><a href="//{{request.host}}/mapzen/blog/master/projects/vector-tiles">{{request.host}}/mapzen/blog/master/<em>projects/vector-tiles</em></a></samp>
        </p>
    </li>
    </ol>
    <h2>Private Repositories</h2>
    <p>
        Precog will ask for access to your Github account to preview private
        repositories. You can revoke Precog’s access via your
        <a href="https://github.com/settings/applications">Github Applications page</a>.
        Precog will keep a copy of each private repository you preview for an
        unknown period of time.
    </p>
    {% if id %}
        <form action="logout" method="post">
          <p>
            <img id="avatar" src="{{id.avatar_url}}" alt="">
            Precog knows you as <a href="{{id.html_url}}">{{id.login}}</a>.
            <input type="submit" value="Forget me.">
          </p>
        </form>
    {% endif %}

{% endblock %}
